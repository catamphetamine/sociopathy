@import "/облик/вспомогательный.less";

#chat_container
{
	margin-top: 50px;
	margin-bottom: 100px;
	
	#loading
	{
		color: #afafaf;
		text-align: center;
		margin-bottom: 50px;
		margin-top: 250px;
	}
	
	.send_message
	{
		text-align: center;
		display: none;
	
		.send_message_inner
		{
			text-align: right;
			display: inline-block;
			
			.message
			{
				width: 600px;
				height: 100px;
			}
			
			.send
			{
				margin-top: 10px;
				display: inline-block;
			}
		}
	}
}

.chat .author .away, .who_is_online li .away
{
	font-size: 10px;
	position: absolute;
	bottom: 0;
	color: white;
	background-color: black;
	opacity: 0;
	width: 100%;
	text-align: center;
	padding-bottom: 2px;
	font-family: Verdana;
				
	.css_transition_property(opacity);
	.css_transition_duration(500ms);
	.css_transition_easing(ease-in-out);
}

.chat .author.is_away .away, .who_is_online li.is_away .away
{
	opacity: 0.8;
}

.message_list_container
{
	overflow: hidden;
	position: relative;

	@inter_column_padding: 25px;
	@author_column_padding: 30px;
	@author_column_right_padding: 26px;
	@author_column_width: 320px;
	@message_bottom_padding: 0px;
	@author_icon_margin_left: 20px;
	@time_column_padding: 20px;
	
	ul.chat
	{
		position: relative;
		z-index: 0;
		
		display: table;
		width: 100%;
		
		top: 0;
		
		margin: 0;
		padding: 0;
	
		li
		{
			display: table-row;
			
			.message
			{
				vertical-align: top;
				padding-top: 12px;
			
				.text
				{	
					padding-bottom: 5px;
					
					font-family: Minion Pro;
			
					font-size: 40px;
					line-height: @textual_line_height;
					
					margin-bottom: 4px;
				}
			}
			
			.author, .message
			{
				display: table-cell;
			}
			
			.author
			{
				padding-left: @author_column_padding;
				padding-right: @author_column_right_padding;
				padding-bottom: @message_bottom_padding;
				
				.exact_width(@author_column_width);
				overflow: hidden;
				
				/* text-overflow: ellipsis; */
				
				text-align: right;
				color: @blue_color;
				
				.name
				{
					font-face: Tahoma, Arial, Helvetica;
					font-size: 26px;
					
					display: inline-block;
					margin-top: 21px;
					vertical-align: top;
					
					max-width: @author_column_width - @user_icon_size - @author_icon_margin_left;
					overflow: hidden;
					text-overflow: ellipsis;
				}
				
				a
				{
					border: 0;
				}
				
				a:after
				{
					content: "\A";
					white-space: pre;
				}
				
				@user_picture_left: 10px;
				
				.user_offline_picture_glow, .user_online_picture_glow, .picture
				{
					display: inline-block;
					
					position: relative;
					top: 12px;
					left: @user_picture_left;
				
					width: @user_icon_size;
					height: @user_icon_size;
				}
				
				.user_online_picture_glow, .user_offline_picture_glow
				{
					margin-right: -@user_icon_size;
				
					.css_transition_property(opacity);
					.css_transition_duration(1000ms);
					.css_transition_easing(ease-in-out);
				}
				
				.user_online_picture_glow
				{
					opacity: 0;
					.beautiful_shadow_5(0px, 0px, 2px, 4px, 8px,10px, 20px, 0.25, 8, 155, 0);
				}
				
				.user_offline_picture_glow
				{
					.beautiful_shadow_3(0px, 1px, 2px, 3px, 4px, 0.2);
				}
				
				.picture
				{
					background-image: url('/картинки/temporary/картинка с навершия.jpg');
					background-repeat: no-repeat;
				}
			}
			
			.author.online
			{
				.user_offline_picture_glow
				{
					opacity: 0;
				}
				
				.user_online_picture_glow
				{
					opacity: 1;
				}
			}
			
			.message
			{
				display: table;
				width: 100%;
				
				margin: 0;
				padding: 0;
				
				.text, .when
				{
					display: table-cell;
				}
				
				.text
				{
					padding-left: @inter_column_padding;
					padding-right: @inter_column_padding;
				}
				
				.when
				{
					position: relative;
					
					padding-left: @inter_column_padding;
					padding-right: @time_column_padding;
					
					text-align: right;
					color: #afafaf;
					
					font-size: 20px;
					top: -3px;
				}
			}
		}
	}

	.new_messages_smooth_border
	{
		position: absolute;
		bottom: 0;
	
		margin-left: @author_column_padding + @author_column_width + @author_column_right_padding;
	
		background-image: url('/картинки/на страницах/сеть/болталка/граница выезда новых сообщений снизу.png');
		background-color: transparent;
		background-repeat: repeat-x;
		
		height: 16px;
	}
}

#chat_block
{
	[type=loading], [type=loading_more], [type=error], [type=loading_more_error]
	{
		text-align: center;
		margin-bottom: 50px;
	}
	
	[type=loading_more], [type=loading_more_error]
	{
		margin-top: 50px;
	}
	
	[type=loading], [type=error]
	{
		margin-top: 150px;
	}
}

@user_icon_size: 48px;
@top_padding: 5px;
@bottom_padding: 5px;
@user_icon_margin: 8px;
			
.who_is_online_container
{
	overflow: hidden;
	height: @top_padding + @user_icon_size + 2 * @user_icon_margin + @bottom_padding;

	margin-bottom: 50px;
			
	.who_is_online_bar
	{
		position: relative;
		z-index: 1;

		.who_is_online li, .who_is_online li a
		{
			width: @user_icon_size;
			height: @user_icon_size;
		}
			
		.background
		{
			position: absolute;
			top: 0;
			z-index: 0;
			
			width: 100%;
			height: @user_icon_size + @top_padding + @bottom_padding + 2 * @user_icon_margin;
			
			background-color: #ffffff;
			
			.css_transition_property(background-color);
			.css_transition_duration(400ms);
			.css_transition_easing(ease-in-out);
		}
		
		.who_is_online
		{
			position: relative;
			z-index: 2;
				
			margin-top: @top_padding;
			margin-bottom: @top_padding;
			
			padding: 0;
			padding-left: 50px;
			padding-right: 50px;
			
			overflow: hidden;
		
			list-style: none;
			text-indent: 0;
			
			.css_transition_property(padding-left, padding-right);
			.css_transition_duration(200ms);
			.css_transition_easing(ease-in-out);
			
			li
			{
				display: inline-block;
				margin: @user_icon_margin;
					
				background-image: url('/картинки/temporary/картинка с навершия.jpg');
					
				a
				{
					display: inline-block;
					position: relative;
					
					width: @user_icon_size;
					height: @user_icon_size;
					
					border: 0;
					
					.beautiful_shadow_3(0px, 1px, 2px, 3px, 4px, 0.2);
				}
			}
		}
		
		&.sticky
		{
			width: 100%;
			
			.who_is_online
			{
				margin: 0;
				
				padding-left: @top_padding;
				padding-right: @top_padding;
				padding-top: @top_padding;
				padding-bottom: @bottom_padding;
				
				li
				{
					border-width: 1px;
					border-style: solid;
					border-color: black;
				}
			}
			
			.background
			{
				background-color: #000000;
				opacity: 0.8;
			}
		}
	}
}