личные проекты - там, помог бедным или сиротам, построил то-то, посадил то-то
как законченные (с фотками), так и намеченные
возможны общие проекты
называться будут "дела"

в читальне если набрать что-нибудь в поиске, вылезут варианты совпаюащих разделов и заметок

плагинная система, то есть каждый участник может написать свой plugin

"статусы", места, маршруты путешествий
при совместном разговоре можно отпочковывать "1 на 1" (типа на ухо), втроём и т.п.
есть "статусы" (уехал туда-то до такого-то), "объявления" (продам, отдам, куплю, помогу), события (акции, конференции, встречи): кто участвовал.

есть частные фотоальбомы - видно лишь явно прописанным группам и близости уровня такого-то или выше, а есть всеобщий альбом - связность отметками (например, встречи, люди и т.п.)
отношения с людьми можно разделять на подгруппы.
есть слабые связи, и есть тесные связи (шкала), а есть вообще "одноразовые" связи (не имеют "привелегий" в области видимости).
видео - то же самое.

сообщения имеют пометку о срочности: неважное, обычное, важное
википедия (+ новости), где можно оценивать каждую статью, и на основе этого - находить близких по увлечениям (потом: возможно вам понравится то-то, новости)

возможность создавать "кланы" (как в mmorpg) с особыми "разделами" кланов, доступа в которые другие могут не иметь

оценка настроения от 0 до 5, но без цифр - цветом мб, или погодой даже (0 - конец света, суицидальное, полная апатия, 1 - депрессия, лёгкая апатия, 2 - без чувств, устал, 3 - нормально, как обычно, жить можно, 4 - хорошо, приятно, одухотворённо, умиротворение, 5 - отлично (перевозбуждённость))
постоянно можно менять.
потом строить график смены.
по графику - находить близких людей. мб определять психотип.

можно отмечаться на карте и находить близких по месту
можно гулять и отмечать GPS путь.
соответственно, можно смотреть интерактивную карту, во сколько кто где ходил или ходит (постепенно, во времени).

можно общаться как 1 на 1, так и втроём и т.д.
при этом слышимость голоса: непрозрачность шрифта (если далеко - не слышно), соответственно, следует вставать в место в комнате, и разговаривать
всё общение - на одной временной шкале
обсуждения можно делать стенографными
можно отпочковывать высказыванием новое обсуждение, и связывать его с неким ранешным

фотоальбом, видеоальбом, отмечать друзей, дату и время, место на карте, связывать с другими фотографиями, темами разговоров, видеосъёмками и заметками (поставив "силу связи" ("имеющесть отношения") от 1 до 5)
можно знакомиться - состояние (ищет ли полового партнёра, ищет ли друзей, ищет ли просто знакомых, ищет ли совместного времяпровождения)

можно scrobbl-ить музыку
можно бросить "offtop" - не будет стенографироваться



спроецировать людей отрезками на шкалу психического состояния, и на основе этого подбирать "друзей"


общественная сеть знаний:

различные заметки, можно оценивать только по прочтении: понятность, занятность
таким образом можно найти людей, увлекающихся схожими областями знаний
заметки разнесены по карте знаний

психологические изпытания можно проходить - составлять личный профиль (интроверт, экстраверт)
вычислять склонности к психическим болезням, давать советы по адекватному поведению каждый день ("сегодня вам стоит успокоиться")
искусственный интеллект (для каждого свой экземпляр) обучается и предсказывает настроение


человеку не нужно иметь заполненные поля: о себе, увлечения и т.п. - это нужно собирать косвенно







медленный фокус на полях и ссылках


подсветка фокуса - плавная
подсветка ссылок - плавная


// визуальный tex-редактор

// на картинках сделать крутилку (background: white url(images/loading.gif) no-repeat center center)



Читальня:

Музыка
Дизайн
Фотография
Видеосъёмка
Живопись
Экономика
Военное дело

География
Философия
Религия

Химия (Биохимия, Органика, Неорганика)
Биология (Генетика, Молекуряная биология, Биофизика)
Медицина
Археология
Информатика
Физика (Астрономия, Геофизика, ...)
Математика (Теория чисел, Мат. анализ, Лин.алг., Теория множеств, Рег.выр.)










сделать раздел "мои черновики"
при заходе на страницу просто, если есть черновик, выдавать вверху предупреждение: "вы видите перед собой черновик", и показывать черновик
сделать контроль версий и merge
если конфликт - выдавать пользователю ошибку, и не сохранять, пока не устранятся конфликты.
сохранять историю изменений (изменение, удаление, создание) за три дня (от вандалов).


каждое слово оборачивать тегом: <span author="id того, кто написал его или поправил">...</span>


в заметках: режим истории (кто какие строки написал (разделение по цвету), и когда (разделение))




можно управлять размером шрифта в заметках в настройках.
меняя размер текста - менять и межстрочное разстояние.
и вообще, можно вставлять последним свой личный кусок стиля css.


wiki (статьи: гистограмма авторов по процентам, diff, нравится от 0 до 5)
гистограмма настроения (от 0 до 5)
беседа: можно пригласить третьего, отображать не сплошным текстом, а комиксом, а под ним - log
статьи - по категориям (id, name, version, latest order change time), с историей изменения порядков (переименования - не критичны)

вам возможно понравятся заметки: по категориям. вычисляются по планировщику, через map reduce мб. по алгоритму схожести интересов.
memcache



два вида поиска записей:
1) иерархический
2) по индексу (начать печатать)
3) смысловой (поиск по содержимому, теги, показать самые новые, недавно правленные)

возможность вывода заметки на печать (и вообще, экспорта в PDF, возможно)








беседы могут вестись: только в кругу приглашённых, только в определённых группах "друзей", только в кругу знакомых знакомых, всеобщие (присоединиться и высказать своё мнение может каждый)
(можно создать беседу для всех друзей с коэффициентом > x)
можно создавать союзы (это будут отдельные read-only группы друзей)







// модульная система: каждая иконка вверху - модуль (адрес страницы, адреса .js и .css); у пользователя: страница "разширения"





// у заметки выводить путь

// в заметке, вместо tools - график изменения статьи, диаграмма участия пользователей

// при вставке элемента (нажатии на tools) - плавная прокрутка к этому элементу, если он не виден
// хоткей перехода к курсору (если прокрутил куда-нибудь вверх или вниз)

// каждую страницу (+ помощь, ...) можно править (с версионностью, как у статей)





//очищать значения в полях ввода от подставляемых

// undo и redo на заголовке



// обновлять пользователя в сессии при его изменении (какой-нибудь trigger поставить на save)
// сбрасывать страницу пользователя в мемкеше, при обновлении пользователя

// при смене address_name у раздела читальни - переименовывать и картинку
// при смене address_name у раздела читальни - обновлять путь к ней и пути у всех дочерних разделов и заметок
// при смене address_name у статьи - обновлять путь к ней
// при смене address_name у пользователя - переименовывать и картинку

// если не найдена статья - писать, что раньше она была там-то и "поищите по названию такому-то"

// в шаблонах можно употреблять переменные через пробел: ${$data['адресное имя']}

// категория не может называться "[обложка]"

// в супервайзоре: если сервер заваливается - слать email с куском лога


// кешировать мемкешем страницы (и аяксовые данные), и отдавать непосредственно нжинексом


// сделать остывание в поиске людей
// оповещать о статусе online человека по websocket (когда смотрят профиль или в поиске людей)


// на странице людей убирать лишних сверху при листании вниз (скажем, если больше ста уже есть). вместо них вставлять (и ещё ХХ новых). при этом прокрутку скроллить.



// сделать детектор подбора пароля: пять раз неправильно, и блок.



// хром не поддерживает отлов ctrl c / ctrl v

// на server side: преобразовать дефисы в тире, точки в троеточия, и кавычки - в ёлочки.

// на server side: убирать пустые теги <p></p> и прочие

// ссылку можно ставить только на текст внутри p и на заголовок

// у сессии сделать флаг "модифаед" через "сет дейта"

// возможность настройки горячих клавиш для режимов (и прочего)


// в чате сделать "стёр"



//на фотках - премодерация
//на аватарах - модерация




// у кнопки сделать только один frame в данный момент, а не поверх


// в блоге сделать cut'ы


// в болталке править сообщения - в правке
// добавлять - в действиях

// сделать "ответить" в чате: вставлять цитату вида: пользователь, время, содержимое (мб на сероватом фоне)

// кнопка html -> source

// иконки вверху вдавленные
// панель мб с текстурой

// скрипт, очищающий папку /загруженное/временное от старых файлов (больше недели)

// у окошка можно: box shadow: 0px 5px 80px #505050

// если будут уведомления белым текстом на чёрном фоне, то текст делать болдом, делать ему чёрную тень, а сам фон - серым, и фону чёрную границу в один пиксель    

// переделать прописку без кнопок и на своей странице
// удаление - жест мышью

// при прокрутке людей делать одновременное продвижение progress bar'а (для каждого человека)


// для читальни - выделение (мышь, клава с ктрл и c шифтом) и перемещение разделов и заметок
// тащишь, наводишь на раздел сверху, ждёшь - он открывается.
// дальше можно тащить на раздел иконистый, ждать - он откроется.
// если просто отпустить - будут помещены в текущий раздел.
// порядок также меняется: иконистые через css transition ('left'), статьи тоже ('top'). (position: relative)

// по enter в одном поле - переходить к другому полю, если оно пустое, а не жать кнопку





// возможность добавления камента к картинке (явного или всплывающего) в заметке читальни




// хешировать secret_id и приглашение через Скалу






// сделать анимированную иконку на случай новых сообщений


// сделать защиту от перехвата пароля: с каждого отдельного компа нужно для первого входа вводить код из email (или жать ссылку из email)


// websocket for user online statuses: send 'action' updates for all users along with writing 'action' time to the DB


// sociopathy tex - set up height (in url)


// в болталке и где человек "вызвать" - единая проверка (на сервере), что auth required, чтобы не спамили звуками


// на странице друзей - орбитали, овальные, размером к монитору
// можно друзей будет фасовать по группам и дальности
// изначально - в центре, и близость = 1
// в конце - близость = 0
// ограничивать область драг-н-дропа

// общие друзья - выводить большими тех, у кого перемножение близостей большое.
// маленькими - у кого маленькое
// просто списком ссылок (ul), с font-size и размерами аватарок



// изменять порядок книг и разделов в правке поверх


// в картинках и видео (в т.ч. в альбомах), а также в title() - ставить имя пользователя реальное, а не адресное имя
// и у альбомов с видео и картинками - тоже так же: реальные названия, и реальное имя



// можно создать круг "близких людей", или круг "интересных людей".
// новости: все или круги, где вверху галки стоят по каждому кругу (разворачивается слайдингом)



// fade out старую фотку при переходе к новой



// проверить работу ссылок "войти" и войти в сообщениях



// у разделов и заметок - журнальные заметки

// каменты к: журнальным заметкам, заметкам, разделам.

// можно следить за разделом или заметкой читальни, чтобы получать обновления, когда там что-то правится, или что-то связывается с ними.

// в круги можно добавить "все пользователи"
// круги можно объединять в один

// круг по умолчанию - ...
// ещё есть круг - все



// запретить шаринг ссылок на книги: http://ru.wikipedia.org/wiki/%D0%A5%D0%BE%D1%82%D0%BB%D0%B8%D0%BD%D0%BA

// для книг можно писать каменты


// в firefox нажатие на more_tools убирает каретку


// сделать "отменить правки"

// привязывать книги к разделу или заметке





// когда что-то пишется в обсуждение или беседу - можно рассылать email


// на каждый вид оповещения - свой звук
// звуки можно настраивать

// когда не в фокусе - звук резче



// переименование кругов


// создание и правка заметок в журнале и дневнике
// черновики у них тоже

// каменты в дневниках и журналах

//в заметке ссылки на разделы и заметки - по id-шникам, чтобы потом подставлять переименованные пути

//в заметке: вставка ссылки на раздел или заметку: начинаешь печатать, и выпадают возможные варианты
//(те, которые начинаются со введённого значения)


//отлавливать backspace и delete, сделать у editor метод erase, и у time machine can_erase()

//Можно подписаться на правки заметок, и узнавать о них в новостной ленте.


// в новостях - лента такая же, как и в сообщениях

//экспорт раздела - воссоздание структуры папок, и там текстовые файлы (и всё)
//папка /export_requests
//туда на scala всё генерится

// сделать загрузку картинок в галерею
// сделать добавление видео в галерею
// id картинки или видео не может быть "обложка"

// полнотекстовый поиск по книгам (lucene). 
// синтаксис lucene вывесить в FAQ: http://www.dataart.ru/downloads/lucene.pdf
// с синонимами, правкой опечаток, NIOFSDirectory, SpellChecker (мб)

// при нажатии на загрузку обложки книги - проверять, есть ли эта книга в базе
// загрузку книг (небольших)

// в списке людей: пушить новых людей

// комментарии - так же, как и сообщения: с пушем правок и с пушем новых (выезжают вниз новые), со ссылкой "раньше" и последними прочитанными

/// пушить не всё подряд, а в зависимости от того, на какой странице находится пользователь (при коннекте сообщение 'страница', и при навигации тоже)
/// если так делать,  то образуется область неопределённости во время переключения страниц, когда новая страница уже загружена, а пуши на неё ещё не идут. можно решить предварительной переменной "следующая страница" на сервере, для которой тоже пушить всё

// подсветка синтаксиса при вставке кода

////в обсуждениях и беседах: 
////если новая беседа или обсуждение - пушить и добавлять (беседа - если участником добавили)

// если в беседе два человека - отправлять notification по почте (по истечению 15 min, мб, или умнее) не тому, который отправил сообщение

// для аватара - делать пуш, чтобы на открытых страницах видно было изменение своего аватара

// version обложки для книг и т.п.

// volume control для jouele, и mute / unmute (как в flowplayer)

// jouele в firefox зависает, при отмене правки сообщений
// http://cs5069.userapi.com/u23765867/audio/d94c0d9d034b.mp3

// фотку в профиле и беседы - не просто hide/remove, а fadeOut, slide out, remove

// прятать писарь по какой-нибудь правой кнопке мыши на снастях

//свой smtp сервер, и от него слать письма.

// при обновлении и создании книг - проверять уникальность названия и автора (пара)

//// поставить свой MathJax на сервере

// хоткеи для снастей, при которых диалоговые окна не открываются,
// а просто печатаешь (или вставляешь) там же.
// завершение - энтер, или какая-нибудь другая комбинация клавиш

// сделать историю версий читальни (мб в виде diff-ов)

// "бесшовный" переход от создания беседы/обсуждения до самой созданной беседы/обсуждения

// хоткеи для снастей (+ настройка, + описать в помощи)

// сделать плавное добавление - сначала fade_out, потом slide_out

// session.последняя_прочитанная_новость
// когда новость поступает на той же странице - добавлять класс unread (с транзишеном)

// enter в начале абзаца - не даёт вставить новый абзац

// видео наезжает на position: fixed (tools)

// делать так, чтобы при change курсор всегда был на экране (в писаре)

//если из беседы выходит последний человек - она удаляется (идёт в мусорку вместе с сообщениями)

//// ставить инвайт сначала на locked, а потом уже либо unlock, либо used

/*
не нужно передавать на клиент все непрочитанные сообщения из всех бесед и обсуждений.
достаточно просто передать то, что есть непрочитанности в беседах и обсуждениях.
ответ на сообщение "прочитано" - обновление этого статуса непрочитанности разделов "беседы", "обсуждения" и т.п.

при получении списка бесед и обсуждений - проставлять непрочитанность на сервере
*/

/*
сделать новости (+ push, + получить пропущенные новости):

новое обсуждение
прописался новый пользователь
добавлена заметка
правлена заметка - сохранять в новости diff

в новостях ссылка на правку заметки - в виде diff'а, с подсветкой

// новостям: [class=new и наверху подсвечивать]
*/

// мб не грузить все шаблоны и кусочки сразу, а только по запросу (в обёртке)

// для всех правок - черновики (самосохраняющиеся)

/*
черновик создаётся сразу после нажатия кнопки правки

самосохранять каждые 10 секунд, если есть изменения.
при загрузке страницы, если есть черновик - показывать вверху, что "есть черновик", и ссылку "перейти к черновику" (переходить в правку и применять его).
при сохранении - удалять черновик в корзину.

черновики при нажатии "отмена" - удаляются в корзину

черновик самосохраняется только если стало больше символов, чем было на предыдущем сохранении.
можно сохранить вручную черновик (в середине кнопка)
она становится неактивной, когда черновик сохраняется, и пишет "черновик сохранён".
при изменении - опять активна (keypress, cut, copy, paste).
*/

// у удаляемых разделов - удалять подразделы и заметки (в корзину)
// (и пути к этому разделу, к его подразделам, и к его заметкам)
// (и черновики для всех заметок, которые в этом разделе)
// * всё удалять рекурсивно

/*
читальня:

каждый тег статьи помечается uid-ом (uid generator in google, or последовательность на сервере, мб, или timestamp + random)

при нажатии кнопки сохранить:
	новые id, вытянутые с сервера, вставляются куда нужно, и зелёные
	изменённые - жёлтые
	удалённые - серые и зачёркнутые
	конфликты - красные
	(всё скруглённое)

нажимает пользователь на красный конфликт, и вылазит окошко: до, после, и contenteditable с итогом

экраны: "их правки", "мои правки", "слияние"
заметки хранить в collection article_backups, индекс по _id заметки

при сохранении мержа: проверять { and version === Version }
*/

// отображать авторов (и даты) в особом режиме

// путь к разделу показывать в breadcrumbs не из url, а нормальный

// при переименовании заметки - пробовать создавать новый путь к ней (оставляя старый)

// проставлять date и author при Wiki_processor.parse() - только для заметок в читальне (мб убрать это из wiki parser - attr('author'))
//// мб это не делать, а делать при мерже - при изменении элемента (с помощью tool или просто в тексте) = менять автора на себя

// при переносе раздела - создавать новые пути для него и его потомков

// черновик для создания новой заметки тоже

// при восстановлении заметок и разделов из корзины - пересоздавать пути

// при сохранении заметки - проверять, что действительно сохранилось, перед удалением черновика (чтобы данные не терялись)

// с не самых новых путей разделов и заметок - редирект на самые новые пути

// нельзя перенести раздел в себя или потомков

// \n в именах разделов и заметок заменять на пробел





в конце:

// uncomment '/ошибка'
не Development в конфигах

// создать обсуждение "выдача приглашений"

change.this