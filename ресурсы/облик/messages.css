@import "/облик/user icon.less";
@import "/облик/author_content_date.less";

@user_icon_size: @small_user_icon_size;

@user_picture_top: @AuthorContentDate_user_picture_top;
@user_picture_left: @AuthorContentDate_user_picture_left;

@inter_column_padding: @AuthorContentDate_inter_column_padding;
@author_column_left_padding: @AuthorContentDate_author_column_left_padding;
@author_column_right_padding: @AuthorContentDate_author_column_right_padding;
@author_column_width: @AuthorContentDate_author_column_width;
@message_bottom_padding: @AuthorContentDate_message_bottom_padding;
@author_icon_margin_left: @AuthorContentDate_author_icon_margin_left;
@time_column_padding: @AuthorContentDate_time_column_padding;
@time_column_width: @AuthorContentDate_time_column_width;

@user_icon_size: @AuthorContentDate_user_icon_size;

@top_padding: 5px;
@bottom_padding: 5px;
@user_icon_margin: 8px;
		
.messages_framework
{
	> .older
	{
		text-align: center;
		white-space: nowrap;
		
		margin-top: 20px;
		
		height: 56px;
		
		.more_container
		{
			position: absolute;
			width: 100%;
			text-align: center;
			
			> div
			{
				margin: 0;
			}
		}
		
		> a
		{
		}
	}
	
	> ul
	{
		> .content_wrapper
		{
			> .content
			{		
				white-space: pre-wrap;
				word-wrap: break-word;
			}
		}
	}
}

.scroll_down_to_new_messages
{
	display: none;

	position: fixed;
	bottom: 20px;
	right: 20px;
	
	z-index: 1;
	
	cursor: pointer;
}

#compose_message
{
	position: fixed;
	bottom: 0;
	
	width: 100%;
	
	background-color: white;
	
	article > p.tagged_hint
	{
		text-indent: 0;
	}
	
	article
	{
		margin-top: 15px;
		margin-bottom: 5px;
	}
	
	.visual_editor_tools .more
	{
		background-image: url('/картинки/на страницах/заметка/скрыть разширенное.png');
	}
	
	.visual_editor_tools .less
	{
		background-image: url('/картинки/на страницах/заметка/показать всё.png');
	}
}

.popup_menu_container.of_message_author
{
	margin-top: @user_picture_top + 2 * @user_icon_size / 3;
	margin-left: @author_column_left_padding + @author_column_width - @user_picture_left;
}

.popup_menu_container.of_online_user
{
	margin-top: 4 * @user_icon_size / 7;
	margin-left: 4 * @user_icon_size / 7;
}

.rich_formatting
{
	.citation
	{
		padding: 0;
	}
}

#compose_message > article
{
	padding-left: @author_column_left_padding + @author_column_width + @author_column_right_padding + @inter_column_padding;
	padding-right: @inter_column_padding + @time_column_width + @time_column_padding + @inter_column_padding;
	
	.hint, .tagged_hint
	{
		color: #7f7f7f !important;
		margin: 0;
	}
}

#compose_message > article
{
	font-size: 34px;
}

.visual_editor_tools_container
{
	z-index: 0;
}
	
.who_is_connected_container
{
	overflow: hidden;
	height: @top_padding + @user_icon_size + 2 * @user_icon_margin + @bottom_padding;

	margin-bottom: 0px;
			
	> .who_is_connected_bar
	{
		position: relative;
		z-index: 0;
		
		&.sticky
		{
			z-index: 1;
		}

		> .who_is_connected 
		{
			> li
			{
				position: relative;
				
				border-radius: 4px;
			}
			
			> li, a
			{
				width: @user_icon_size;
				height: @user_icon_size;
			}
		}
			
		.background
		{
			position: absolute;
			top: 0;
			z-index: 0;
			
			width: 100%;
			height: @user_icon_size + @top_padding + @bottom_padding + 2 * @user_icon_margin;
			
			background-color: #ffffff;
			
			.css_transition_property(background-color);
			.css_transition_duration(400ms);
			.css_transition_easing(ease-in-out);
		}
		
		.who_is_connected
		{
			position: relative;
			z-index: 2;
				
			margin-top: @top_padding;
			margin-bottom: @top_padding;
			
			padding: 0;
			padding-left: 50px;
			padding-right: 50px;
			
			overflow: hidden;
		
			list-style: none;
			text-indent: 0;
			
			.css_transition_property(padding-left, padding-right);
			.css_transition_duration(200ms);
			.css_transition_easing(ease-in-out);
			
			.picture
			{
				background-image: url('/картинки/temporary/картинка с навершия.jpg');
			}
			
			
			li
			{
				display: inline-block;
				margin: @user_icon_margin;
					
				.user_offline_picture_glow
				{
					opacity: 1 !important;
				}
				
				a
				{
					display: inline-block;
					position: relative;
					
					border: 0;
					
					.beautiful_shadow_3(0px, 1px, 2px, 3px, 4px, 0.2);
				}
			}
		}
		
		&.sticky
		{
			width: 100%;
			
			.who_is_connected
			{
				margin: 0;
				
				padding-left: @top_padding;
				padding-right: @top_padding;
				padding-top: @top_padding;
				padding-bottom: @bottom_padding;
				
				li .picture
				{
					border-width: 1px;
					border-style: solid;
					border-color: black;
				}
			}
			
			.background
			{
				background-color: #000000;
				opacity: 0.8;
			}
		}
	}
}

body[mode="правка"] .messages_framework > .older a
{
	cursor: not-allowed;
}